/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --color-background: #f2ede6;
    --color-background-secondary: #e7dfd4;
    --color-surface: rgba(255, 252, 247, 0.75);
    --color-surface-strong: rgba(255, 252, 247, 0.9);
    --color-surface-muted: rgba(255, 252, 247, 0.55);
    --color-border: rgba(120, 110, 98, 0.28);
    --color-border-strong: rgba(96, 88, 78, 0.38);
    --color-text: #2f2922;
    --color-text-muted: #7a7066;
    --color-heading: #1f1914;
    --color-accent: #d9a86c;
    --color-accent-strong: #be7f39;
    --color-accent-soft: rgba(217, 168, 108, 0.12);
    --color-accent-soft-strong: rgba(217, 168, 108, 0.22);
    --color-highlight: #f8efe1;
    --color-on-accent: #2a1d12;
    --shadow-soft: 0 18px 42px rgba(61, 47, 33, 0.12);
    --shadow-hover: 0 22px 48px rgba(61, 47, 33, 0.18);
    --font-body: "Inter", "Helvetica Neue", "Segoe UI", sans-serif;
    --font-display: "Playfair Display", "Cormorant Garamond", "Georgia", serif;
    --brand-accent: var(--color-accent);
    --brand-primary: var(--color-accent-strong);
    --brand-border: var(--color-border);
    --brand-card: var(--color-surface);
    --brand-text: var(--color-text);
    --brand-bg: var(--color-background);
}

html,
body {
    height: 100%;
}

body {
    position: relative;
    min-height: 100%;
    overflow-x: hidden;
    background-image:
        radial-gradient(circle at 12% 18%, rgba(255, 255, 255, 0.55) 0, transparent 55%),
        radial-gradient(circle at 88% 12%, rgba(206, 178, 137, 0.18) 0, transparent 48%),
        linear-gradient(135deg, rgba(238, 229, 216, 0.7), rgba(245, 238, 228, 0.95));
}

body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='240' height='240' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='rgba(176, 157, 134, 0.18)' stroke-width='0.6'%3E%3Cpath d='M10,12 C16,6 26,6 32,12'/%3E%3Cpath d='M32,12 C38,18 48,18 54,12'/%3E%3Cpath d='M70,26 C76,20 86,20 92,26'/%3E%3Cpath d='M92,26 C98,32 108,32 114,26'/%3E%3Cpath d='M12,80 l18,-18'/%3E%3Cpath d='M24,86 l24,-24'/%3E%3Cpath d='M70,84 q10,-12 22,-6 q12,6 18,-8' stroke-dasharray='6 5'/%3E%3Ccircle cx='52' cy='74' r='4.2'/%3E%3Ccircle cx='86' cy='48' r='3.6'/%3E%3Ccircle cx='24' cy='34' r='3'/%3E%3C/g%3E%3C/svg%3E");
    background-size: 220px;
    opacity: 0.35;
    pointer-events: none;
    z-index: -2;
}

body::after {
    content: "";
    position: fixed;
    inset: 0;
    background-image: url("/logo.svg");
    background-repeat: no-repeat;
    background-position: center;
    background-size: min(68vmin, 460px);
    opacity: 0.05;
    pointer-events: none;
    z-index: -3;
}

@layer base {
    body {
        font-family: var(--font-body);
        color: var(--color-text);
        background-color: var(--color-background);
    }

    h1,
    h2,
    h3,
    h4 {
        font-family: var(--font-display);
        color: var(--color-heading);
        letter-spacing: 0.02em;
    }

    h1 {
        font-weight: 600;
    }

    h2,
    h3 {
        font-weight: 500;
    }

    p,
    li,
    span,
    label {
        color: var(--color-text);
    }

    strong {
        color: var(--color-heading);
        font-weight: 600;
    }

    a {
        color: var(--color-accent-strong);
        transition: color 180ms ease, text-shadow 180ms ease;
    }

    a:hover {
        color: var(--color-accent);
        text-shadow: 0 2px 12px rgba(190, 127, 57, 0.25);
    }

    button {
        font-family: inherit;
    }

    input,
    textarea,
    select {
        @apply rounded-2xl border px-4 py-2 transition duration-200 ease-out w-full;
        background-color: var(--color-surface-strong);
        border-color: var(--color-border);
        color: var(--color-text);
    }

    input:focus,
    textarea:focus,
    select:focus {
        border-color: var(--color-accent);
        background-color: rgba(255, 255, 255, 0.95);
        outline: none;
        box-shadow: 0 0 0 2px var(--color-accent-soft);
    }

    main {
        position: relative;
    }
}

@layer components {
    .page-shell {
        @apply w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-16;
    }

    .surface-card {
        @apply rounded-3xl border backdrop-blur-xl;
        background: var(--color-surface);
        border-color: var(--color-border);
        box-shadow: var(--shadow-soft);
    }

    .surface-card-strong {
        @apply rounded-3xl border backdrop-blur-xl;
        background: var(--color-surface-strong);
        border-color: var(--color-border-strong);
        box-shadow: var(--shadow-hover);
    }

    .surface-panel {
        @apply rounded-3xl border backdrop-blur-md;
        background: var(--color-surface-muted);
        border-color: var(--color-border);
    }

    .btn-primary {
        @apply inline-flex items-center justify-center px-5 py-2.5 rounded-full font-medium transition duration-300 ease-out focus:outline-none;
        background-image: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-strong) 100%);
        color: var(--color-on-accent);
        box-shadow: var(--shadow-soft);
    }

    .btn-primary:focus-visible {
        outline: 2px solid var(--color-accent-soft-strong);
        outline-offset: 3px;
    }

    .btn-primary:hover:not(:disabled) {
        transform: translateY(-1px);
        box-shadow: var(--shadow-hover);
    }

    .btn-primary:disabled {
        opacity: 0.55;
        cursor: not-allowed;
        box-shadow: none;
    }

    .btn-ghost {
        @apply inline-flex items-center justify-center px-5 py-2.5 rounded-full font-medium transition duration-300 ease-out border;
        background-color: transparent;
        border-color: var(--color-border);
        color: var(--color-text);
    }

    .btn-ghost:hover:not(:disabled) {
        background-color: var(--color-accent-soft);
        border-color: var(--color-accent);
        color: var(--color-heading);
    }

    .btn-soft {
        @apply inline-flex items-center justify-center px-4 py-2.5 rounded-full font-medium transition duration-300 ease-out;
        background-color: var(--color-accent-soft);
        color: var(--color-heading);
    }

    .btn-soft:hover:not(:disabled) {
        background-color: var(--color-accent-soft-strong);
        transform: translateY(-1px);
    }

    .chip {
        @apply inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium uppercase tracking-[0.18em];
        background-color: var(--color-accent-soft);
        color: var(--color-heading);
        letter-spacing: 0.24em;
    }

    .section-heading {
        @apply flex flex-col gap-2 mb-6;
    }

    .section-heading__title {
        @apply text-3xl lg:text-4xl font-semibold;
    }

    .section-heading__subtitle {
        @apply text-base;
        color: var(--color-text-muted);
    }

    .card {
        @apply rounded-3xl border px-6 py-5 space-y-3;
        background: var(--color-surface);
        border-color: var(--color-border);
        box-shadow: var(--shadow-soft);
    }

    .h1 {
        @apply text-3xl md:text-4xl font-semibold tracking-wide;
        color: var(--color-heading);
    }

    .h2 {
        @apply text-2xl font-semibold tracking-wide;
        color: var(--color-heading);
    }

    .table-theme {
        @apply w-full text-sm;
        border-collapse: separate;
        border-spacing: 0;
    }

    .table-theme thead {
        background: rgba(255, 255, 255, 0.32);
    }

    .table-theme th {
        @apply text-left text-xs font-semibold uppercase tracking-widest px-4 py-3;
        color: var(--color-text-muted);
        letter-spacing: 0.4em;
    }

    .table-theme td {
        @apply px-4 py-3;
        color: var(--color-text);
        border-bottom: 1px solid rgba(120, 110, 98, 0.14);
    }

    .surface-muted-text {
        color: var(--color-text-muted);
    }
}

@layer utilities {
    .font-body {
        font-family: var(--font-body);
    }

    .font-display {
        font-family: var(--font-display);
    }

    .shadow-elevated {
        box-shadow: var(--shadow-soft);
    }
}

@media print {
    @page {
        size: 80mm auto;
        margin: 0;
    }

    body {
        background: #fff !important;
    }

    body * {
        visibility: hidden !important;
    }

    #ticket,
    #ticket * {
        visibility: visible !important;
    }

    #ticket {
        display: block !important;
        width: var(--ticket-width, 80mm);
        padding: 6mm 5mm;
        margin: 0 auto;
        font-family: "Courier New", Courier, monospace;
        font-size: 11px;
        line-height: 1.35;
        color: #111;
    }

    #ticket .row {
        display: flex;
        justify-content: space-between;
    }

    #ticket .dashed {
        border-top: 1px dashed #222;
        margin: 6px 0;
        padding-top: 4px;
    }

    #ticket .no-break {
        page-break-inside: avoid;
    }
}
